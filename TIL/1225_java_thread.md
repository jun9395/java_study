## 쓰레드

> 멀티 프로세싱을 구현할 수 있도록 제공하는 것

> 동작 순서를 보장하지는 않는다


### 1. 쓰레드 작성법

1. Thread 클래스를 상속

2. Runnable 인터페이스를 구현




#### 1.1 클래스 상속 방법

> Thread 클래스를 상속받고 run 메서드 구현

```java
class 클래스이름 extends Thread {
    public void run() {
        소스코드
    }
}
```


#### 1.2 인터페이스 구현 방법

> Runnable 인터페이스를 구현하고 run 메서드 구현

```java
class 클래스이름 implements Runnable {
    public void run() {
        소스코드
    }
}
```






### 2. 쓰레드 사용법

- Thread 클래스를 상속받은 경우
    - 상속받은 클래스의 객체를 생성하고 start 메서드 호출
    ```
    상속받은클래스 객체명 = new 상속받은클래스();
    객체명.start();
    ```


- 인터페이스를 사용할 경우
    - Thread 클래스의 객체를 생성하고 생성자에 인터페이스를 구현한 클래스의 객체를 넣는다
    - 그 이후에 start 메서드 호출
    ```
    Thread 객체명 = new Thread(인터페이스 구현 클래스);
    객체명.start();
    ```






### 3. 쓰레드 우선 순위

> 쓰레드객체.setPriority(int 1 ~ 10);

- 우선 순위값은 1~10이며 기본값은 5이다
    - 10이면 가장 먼저 처리할 확률이 높아진다
    - 1이면 가장 늦게 처리할 확률이 높아진다

- 동시에 여러 개의 쓰레드가 운영될 경우 우선 처리할 쓰레드를 결정하는 데 사용
    - 반드시 처리하는 순위가 아니라 우선 처리할 확률이 높아지는 것 뿐이다


작업량이 짧은 시간에 많이 할 경우에 효과를 볼 수 있다






### 4. 쓰레드 동기화

#### 4.1 임계영역

> 여러 개의 쓰레드가 동시에 접근할 수 있는 영역(코드, 메서드 등)

- 사용하기 위해 동시에 접근하는 경우 심각한 오류가 발생할 수 있다



#### 4.2 동기화

> 쓰레드가 접근하는 순서대로 코드를 처리



##### 4.2.1 메서드를 동기화

> 여러 개의 쓰레드가 호출하는 메서드가 있는 경우

```java
public synchronized void method() {
    임계영역 코드
}
```



##### 4.2.2 코드의 일부분을 동기화

> Run 메서드의 코드 일부분을 동기화할 때

```java
synchronized(클래스 혹은 객체) {
    임계영역 코드
}
```

